# RAGenius Configuration Example
# Copy this file to .env and fill in your values

# ============================================
# LLM Settings (Required)
# ============================================

# Use OpenAI API (set to false for local Ollama)
LLM_USE_OPENAI=true

# OpenAI API Key (required if LLM_USE_OPENAI=true)
LLM_OPENAI_API_KEY=sk-your-api-key-here

# OpenAI Model
LLM_OPENAI_MODEL=gpt-4o

# Custom OpenAI API Base (optional, for proxies)
LLM_OPENAI_API_BASE=

# Local Ollama settings (if LLM_USE_OPENAI=false)
LLM_LOCAL_MODEL=deepseek-r1:14b
OLLAMA_BASE_URL=http://localhost:11434

# LLM Parameters
LLM_TEMPERATURE=0.1
LLM_NUM_THREAD=12

# Ollama specific parameters
LLM_NUM_CTX=8192
LLM_NUM_PREDICT=2048

# ============================================
# Embedding Settings
# ============================================

EMBEDDING_MODEL=BAAI/bge-base-zh-v1.5

# ============================================
# Document Chunking
# ============================================

CHUNK_SIZE=600
CHUNK_OVERLAP=150

# ============================================
# Retrieval Pipeline - Query Expansion
# ============================================

QUERY_EXPANSION_ENABLED=true
QUERY_EXPANSION_N_SUBQUERIES=3
QUERY_EXPANSION_MODEL=gpt-4o-mini
QUERY_EXPANSION_TEMPERATURE=0.7
QUERY_EXPANSION_INCLUDE_ORIGINAL=true

# ============================================
# Retrieval Pipeline - Hybrid Retrieval
# ============================================

HYBRID_TOP_K_PER_QUERY=20

# ============================================
# Retrieval Pipeline - RRF Fusion
# ============================================

RRF_K=60
RRF_TOP_K=15

# ============================================
# Retrieval Pipeline - Reranking
# ============================================

RERANKING_ENABLED=true
RERANKING_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANKING_TOP_K=10
RERANKING_BATCH_SIZE=32

# ============================================
# Retrieval Pipeline - MMR
# ============================================

# MMR mode: auto | always | never
MMR_MODE=auto
MMR_SIMILARITY_THRESHOLD=0.85
MMR_LAMBDA=0.5
MMR_FINAL_K=5

# ============================================
# Global Retrieval Settings
# ============================================

SEARCH_K=8

# ============================================
# Performance Monitoring
# ============================================

TIMING_ENABLED=true
TIMING_SHOW_IN_TERMINAL=true

# ============================================
# Docker/Flask Settings
# ============================================

FLASK_ENV=development
DEVICE=cpu

# ============================================
# Retrieval Verbose Output
# ============================================

RETRIEVAL_VERBOSE=true
RETRIEVAL_VERBOSE_MAX_CONTENT_LENGTH=100
